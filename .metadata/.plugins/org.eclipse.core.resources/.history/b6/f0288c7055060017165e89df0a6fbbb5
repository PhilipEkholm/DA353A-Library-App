package library;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

import common.GeneralController;
import common.Person;
import hashtableOH.HashtableOH;

public class LibraryController extends GeneralController{
	private static String filePathMedia = "files/Media.txt";

	public LibraryController(String filePath) {
		super(filePath);
	}
	
	public static void readBooks(HashtableOH<String, Person> map, String filePath) 
		throws FileNotFoundException, IOException{
			
		try(BufferedReader br = new BufferedReader(new FileReader(filePath))) {
		    String line = br.readLine();
				
		    while (line != null) {
			   	String[] details = line.split(";");
			   	Person p = new Person(details[0], details[1], details[2]);
				        
			    map.put(p.getPersonnr(), p);
			    line = br.readLine();
			}
		}
	}
	
	public static void readDVDs(HashtableOH<String, Person> map, String filePath) 
		throws FileNotFoundException, IOException{
				
		try(BufferedReader br = new BufferedReader(new FileReader(filePath))) {
			String line = br.readLine();
					
			while (line != null) {
			   String[] details = line.split(";");
			   	Person p = new Person(details[0], details[1], details[2]);
				        
			    map.put(p.getPersonnr(), p);
			    line = br.readLine();
			}
		}
	}
}
